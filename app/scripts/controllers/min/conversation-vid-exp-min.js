"use strict";angular.module("deltekApp").controller("ConsultancyConversationCtrl",function(e,a){a.layout="consultancy"}).controller("AgencyConversationCtrl",function(e,a){a.layout="agency"}).controller("ArchitectEngineerConversationCtrl",function(e,a){a.layout="architect-engineer"}).controller("VideoCtrl",function(e,a,t,n){e.videos=[],e.videoClick=function(e,a){var t=$("#video-container-"+e),n=$(".vidyard-"+e),o=new Vidyard.player(a);o.play(),t.fadeOut(650,function(){n.fadeIn(650)})},a.get("data/conversation-videos.json").then(function(a){e.videodata=a.data;var o=[],d=[],i=[],r=0;for(var s in a.data)"object"==typeof a.data[s]&&a.data[s].hasOwnProperty("title")&&(o.push(a.data[s]),i.push([a.data[s].expert_details.first_name.toLowerCase(),a.data[s].expert_details.last_name.toLowerCase()]));for(var c in a.data)"undefined"!=typeof a.data[c].asset_content&&d.push(a.data[c].asset_content);e.videos=o.chunk(3),e.assets=d.chunk(3);var l=_.size(a.data);3>=l?e.dataCount=!1:l>=4&&(e.dataCount=!0);for(var u in i){var v=i[u][0],f=i[u][1],p=v+"-"+f;if(n.name===p){t(function(){e.init=function(){$(".carousel-video-"+u).trigger("click"),$(".video-"+u).addClass("animated fadeInUp"),e.selected=u},e.init()},800),r++;break}}0===r&&t(function(){e.init=function(){$(".carousel-video-0").trigger("click"),$(".video-0").addClass("animated fadeInUp"),e.selected=0},e.init()},800)}),e.videoSwap=function(a){var n=$(".selected").data("video"),o="video-"+a,d=$("#video-container-"+a),i=$(".vidyard-"+a),r=$(".selected").data("video-code");d.show(),i.hide(),n!=o&&($("."+n).stop().removeClass("fadeInUp fadeOutUp animated").addClass("animated fadeOutUp"),t(function(){e.selected=a;var t=new Vidyard.player(r);t.pause(),$(".video-"+a).stop().removeClass("fadeInUp fadeOutUp animated").addClass("animated fadeInUp")},700))}}),Array.prototype.chunk=function(e){for(var a=[],t=0;t<this.length;t+=e)a.push(this.slice(t,t+e));return a};